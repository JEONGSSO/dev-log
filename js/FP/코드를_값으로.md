# 코드를 값으로 다루어 표현력 높이기

## go

```js

const add = () => a + b;
const reduce2 = (f, iter, acc) => { 
   if (acc === undefined) { // acc 초기값을 넘기지 않으면 iter에서 맨 앞에 값이 초기값으로 들어감. 
      iter = iter[Symbol.iterator]();
      acc = iter.next().value;
   }

   for (const v of iter) {
      acc = f(acc, v);
   }
   return acc;
};

const go = (...args) => console.log(args) // [0, function (), function (), function (), function ()]

//go 함수를 사용하면 특정 리스트를 축약해나가는 코드 작성이 쉬워진다
const go = (...args) => reduce2((a, f) => f(a), args)

go(
   0, // 0이 바로 밑 함수인자 a로 들어감
   a => a + 1, // 1이 바로 밑 함수인자 a로 들어감...
   a => a + 10,
   a => a + 100,
   console.log
)
// 111
---
```
## pipe

```js

// pipe 함수는 인자들을 연속적으로 실행하여 하나의 함수를 만드는것
const pipe = (...fns) => (a) => go(a, ...fns)

const pipeFn = pipe(
   a => a + 1,  // fns로 들어간다.
   a => a + 10,
   a => a + 100,
   console.log
)

console.log(pipeFn(0)) // pipe두 번째인자인 a로 들어간다.

```

---
``` js
   go(
      add(0, 1), // 요렇게 사용도 가능.
      a => a + 10,
      a => a + 100,
      console.log
   )

   console.log(pipeFn(add(0, 1))) // pipe는 go(add(0, 1) ...) 처럼 사용하려면 이렇게 사용해야 하기때문에 조금 바꿔주어야 한다.

   const pipe = (fn, ...fns) => (...as) => go(fn(as), ...fns)
   const pipeFn = pipe(
      (a, b) => a + b,
      a => a + 10,
      a => a + 100,
      console.log
   )
   console.log(pipeFn(0)) // pipe는 이렇게 사용해야 하기때문에 조금 바꿔주어야 한다.

   const pipe = (fn, ...fns) => (...as) => go(fn(...as), ...fns) // add(0, 1) 1이 fns의 인자로 ~
   const pipeFn = pipe(
      add, //pipe의 fn으로 들어가고
      a => a + 10, // fns
      a => a + 100 // fns
   )
   console.log(pipeFn(0, 1)) // ...as에 들어간다
```
